<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Computer Architecture | D</title><meta name="author" content="Lavoisier"><meta name="copyright" content="Lavoisier"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="2024-2025 计算机体系结构 绪论课程基本信息课程定位与目标 面向对象：高年级本科生或研究生，特别是计划从事计算机体系结构研究的学生 教学目标： 了解计算机体系结构基础和当代主流计算机系统 掌握存储顺序性、Cache一致性、流水线和片上网络等内容 掌握高性能处理器设计与分析方法 了解异构计算和领域专用体系结构    课程内容结构八大章节：  绪论 基准评测集 高性能计算机体系结构 高性能处理">
<!-- hexo-inject:begin --><!-- hexo-inject:end --><meta property="og:type" content="article">
<meta property="og:title" content="Computer Architecture">
<meta property="og:url" content="http://lavoisier7.github.io/posts/4d594d97.html">
<meta property="og:site_name" content="D">
<meta property="og:description" content="2024-2025 计算机体系结构 绪论课程基本信息课程定位与目标 面向对象：高年级本科生或研究生，特别是计划从事计算机体系结构研究的学生 教学目标： 了解计算机体系结构基础和当代主流计算机系统 掌握存储顺序性、Cache一致性、流水线和片上网络等内容 掌握高性能处理器设计与分析方法 了解异构计算和领域专用体系结构    课程内容结构八大章节：  绪论 基准评测集 高性能计算机体系结构 高性能处理">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://lavoisier7.github.io/img/Yoimiya.jpg">
<meta property="article:published_time" content="2024-11-26T09:08:27.000Z">
<meta property="article:modified_time" content="2025-08-04T09:38:32.591Z">
<meta property="article:author" content="Lavoisier">
<meta property="article:tag" content="elective">
<meta property="article:tag" content="CA">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://lavoisier7.github.io/img/Yoimiya.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Computer Architecture",
  "url": "http://lavoisier7.github.io/posts/4d594d97.html",
  "image": "http://lavoisier7.github.io/img/Yoimiya.jpg",
  "datePublished": "2024-11-26T09:08:27.000Z",
  "dateModified": "2025-08-04T09:38:32.591Z",
  "author": [
    {
      "@type": "Person",
      "name": "Lavoisier",
      "url": "http://lavoisier7.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/Yoimiya.jpg"><link rel="canonical" href="http://lavoisier7.github.io/posts/4d594d97.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="codeva-Ej6aIzpsXW"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-QFGRX15K8W"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-QFGRX15K8W')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-QFGRX15K8W', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":true,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":120,"languages":{"author":"作者: Lavoisier","link":"链接: ","source":"来源: D","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Computer Architecture',
  isHighlightShrink: true,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/Yoimiya.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">33</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/bow.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/Yoimiya.jpg" alt="Logo"><span class="site-name">D</span></a><a class="nav-page-title" href="/"><span class="site-name">Computer Architecture</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Computer Architecture</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-11-26T09:08:27.000Z" title="发表于 2024-11-26 17:08:27">2024-11-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-04T09:38:32.591Z" title="更新于 2025-08-04 17:38:32">2025-08-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Computer-Science/">Computer Science</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/4d594d97.html#post-comment"><span class="waline-comment-count" data-path="/posts/4d594d97.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>2024-2025 计算机体系结构</p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><h2 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h2><h3 id="课程基本信息"><a href="#课程基本信息" class="headerlink" title="课程基本信息"></a>课程基本信息</h3><h4 id="课程定位与目标"><a href="#课程定位与目标" class="headerlink" title="课程定位与目标"></a>课程定位与目标</h4><ul>
<li>面向对象：高年级本科生或研究生，特别是计划从事计算机体系结构研究的学生</li>
<li>教学目标：<ul>
<li>了解计算机体系结构基础和当代主流计算机系统</li>
<li>掌握存储顺序性、Cache一致性、流水线和片上网络等内容</li>
<li>掌握高性能处理器设计与分析方法</li>
<li>了解异构计算和领域专用体系结构</li>
</ul>
</li>
</ul>
<h4 id="课程内容结构"><a href="#课程内容结构" class="headerlink" title="课程内容结构"></a>课程内容结构</h4><p>八大章节：</p>
<ol>
<li>绪论</li>
<li>基准评测集</li>
<li>高性能计算机体系结构</li>
<li>高性能处理器并行计算技术</li>
<li>高性能计算机存储层次</li>
<li>高性能计算机互连网络</li>
<li>异构计算体系结构</li>
<li>领域专用体系结构</li>
</ol>
<h3 id="量化设计与分析基础"><a href="#量化设计与分析基础" class="headerlink" title="量化设计与分析基础"></a>量化设计与分析基础</h3><h4 id="重点内容："><a href="#重点内容：" class="headerlink" title="重点内容："></a>重点内容：</h4><ol>
<li>计算机技术发展的关键转折点</li>
<li>丹纳德缩放定律(Dennard Scaling)及其终结</li>
<li>摩尔定律及其面临的挑战</li>
<li>单处理器性能发展历程</li>
</ol>
<h4 id="难点："><a href="#难点：" class="headerlink" title="难点："></a>难点：</h4><ol>
<li>理解处理器性能增长放缓的深层原因</li>
<li>掌握能耗墙、内存墙等技术瓶颈的本质</li>
</ol>
<h4 id="关键概念："><a href="#关键概念：" class="headerlink" title="关键概念："></a>关键概念：</h4><ol>
<li><p>摩尔定律：</p>
<ul>
<li>定义：晶体管数量每18-24个月翻倍，成本减半</li>
<li>现状：增长开始放缓</li>
<li>面临挑战：物理极限、成本效益、散热问题</li>
</ul>
</li>
<li><p>丹纳德缩放定律：</p>
<ul>
<li>核心内容：功率密度随面积保持不变</li>
<li>终结时间：2004年</li>
<li>影响：推动了多核处理器的发展</li>
</ul>
</li>
</ol>
<h3 id="高性能计算机发展史"><a href="#高性能计算机发展史" class="headerlink" title="高性能计算机发展史"></a>高性能计算机发展史</h3><h4 id="重点内容：-1"><a href="#重点内容：-1" class="headerlink" title="重点内容："></a>重点内容：</h4><ol>
<li>高性能计算机四个发展阶段</li>
<li>中国超级计算机发展历程</li>
<li>超级计算机应用领域</li>
</ol>
<h4 id="实例分析："><a href="#实例分析：" class="headerlink" title="实例分析："></a>实例分析：</h4><p>重要里程碑机器：</p>
<ol>
<li>CDC 6600 (1964)：第一台真正的超级计算机</li>
<li>Cray-1 (1976)：首次使用向量处理器架构</li>
<li>天河一号(2009)：中国首台千万亿次超级计算机</li>
<li>神威·太湖之光(2016)：首个使用国产芯片的世界最快超算</li>
</ol>
<h4 id="超级计算机应用领域："><a href="#超级计算机应用领域：" class="headerlink" title="超级计算机应用领域："></a>超级计算机应用领域：</h4><ol>
<li>科学计算：气候环境、天文物理、材料化工</li>
<li>工程应用：航空航天、石油勘探、工程设计</li>
<li>新兴领域：智慧城市、人工智能、精准医疗</li>
</ol>
<h4 id="重要图表位置标注："><a href="#重要图表位置标注：" class="headerlink" title="重要图表位置标注："></a>重要图表位置标注：</h4><ol>
<li>超级计算机性能发展曲线：P139</li>
<li>CPU性能发展趋势图：P140</li>
<li>超算应用领域分布图：P145</li>
</ol>
<h4 id="关键结论："><a href="#关键结论：" class="headerlink" title="关键结论："></a>关键结论：</h4><ol>
<li>“并行”是实现超级计算的唯一途径</li>
<li>未来发展趋势：<ul>
<li>E级向Z级计算发展</li>
<li>与AI、大数据融合</li>
<li>探索非冯·诺依曼架构</li>
</ul>
</li>
</ol>
<h2 id="基准评测集"><a href="#基准评测集" class="headerlink" title="基准评测集"></a>基准评测集</h2><h3 id="计算机性能基础"><a href="#计算机性能基础" class="headerlink" title="计算机性能基础"></a>计算机性能基础</h3><h4 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h4><h5 id="重点：CPU性能评估方法"><a href="#重点：CPU性能评估方法" class="headerlink" title="重点：CPU性能评估方法"></a>重点：CPU性能评估方法</h5><ul>
<li>CPU时间计算公式：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CPU Time = Instructions × CPI × Clock Cycle Time</span><br></pre></td></tr></table></figure></li>
<li>主要影响因素：<ul>
<li>指令数(Instructions)</li>
<li>每指令周期数(CPI)</li>
<li>时钟周期时间(Clock Cycle Time)</li>
</ul>
</li>
</ul>
<h5 id="性能度量标准："><a href="#性能度量标准：" class="headerlink" title="性能度量标准："></a>性能度量标准：</h5><ol>
<li><p>MIPS (每秒百万指令数)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MIPS = Instructions Number/(Execution Time × 10^6)</span><br></pre></td></tr></table></figure>
</li>
<li><p>FLOPS (每秒浮点运算次数)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">MFLOPS = Float Instructions Number/(Execution Time × 10^6)</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="并行系统性能评估"><a href="#并行系统性能评估" class="headerlink" title="并行系统性能评估"></a>并行系统性能评估</h4><h4 id="重点概念："><a href="#重点概念：" class="headerlink" title="重点概念："></a>重点概念：</h4><ol>
<li>加速比(Speedup)：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">S = Ts/Tp</span><br></pre></td></tr></table></figure>
其中：</li>
</ol>
<ul>
<li>Ts：串行执行时间</li>
<li>Tp：并行执行时间</li>
</ul>
<ol start="2">
<li>效率(Efficiency)：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E = S/p</span><br></pre></td></tr></table></figure>
其中p为处理器数量</li>
</ol>
<h5 id="难点：Amdahl定律"><a href="#难点：Amdahl定律" class="headerlink" title="难点：Amdahl定律"></a>难点：Amdahl定律</h5><ol>
<li>核心公式：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">S = 1/(f + (1-f)/p)</span><br></pre></td></tr></table></figure>
其中：</li>
</ol>
<ul>
<li>f：串行部分比例</li>
<li>p：处理器数量</li>
</ul>
<ol start="2">
<li>关键结论：</li>
</ol>
<ul>
<li>加速比存在上限：1&#x2F;f</li>
<li>串行部分成为性能瓶颈</li>
</ul>
<h5 id="Gustafson定律"><a href="#Gustafson定律" class="headerlink" title="Gustafson定律"></a>Gustafson定律</h5><ol>
<li>公式：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">S&#x27; = p - f(p-1)</span><br></pre></td></tr></table></figure></li>
<li>特点：</li>
</ol>
<ul>
<li>考虑问题规模随处理器数量增长</li>
<li>突破了Amdahl定律的限制</li>
</ul>
<h3 id="基准测试程序"><a href="#基准测试程序" class="headerlink" title="基准测试程序"></a>基准测试程序</h3><h4 id="主要类型："><a href="#主要类型：" class="headerlink" title="主要类型："></a>主要类型：</h4><ol>
<li>商用基准测试(TPC系列)：</li>
</ol>
<ul>
<li>TPC-C：在线事务处理</li>
<li>TPC-H：决策支持系统</li>
<li>TPC-E：证券交易系统</li>
</ul>
<ol start="2">
<li>SPEC测试程序：</li>
</ol>
<ul>
<li>SPECint：整数运算</li>
<li>SPECfp：浮点运算</li>
<li>特点：标准化、可比性强</li>
</ul>
<ol start="3">
<li>HPC特定测试：</li>
</ol>
<ul>
<li>Linpack：稠密矩阵运算</li>
<li>HPCG：稀疏矩阵求解</li>
<li>Graph500：图算法性能</li>
</ul>
<h4 id="实例分析：-1"><a href="#实例分析：-1" class="headerlink" title="实例分析："></a>实例分析：</h4><p>以龙芯3A5000处理器为例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SPEC CPU2006测试结果：</span><br><span class="line">- SPECint2006：27.87</span><br><span class="line">- SPECfp2006：30.29</span><br></pre></td></tr></table></figure>
<p>性能分析表明：</p>
<ul>
<li>定点性能接近同代x86处理器</li>
<li>浮点性能仍有提升空间</li>
</ul>
<h3 id="性能提升方法"><a href="#性能提升方法" class="headerlink" title="性能提升方法"></a>性能提升方法</h3><h4 id="主要策略："><a href="#主要策略：" class="headerlink" title="主要策略："></a>主要策略：</h4><ol>
<li>利用并行性</li>
<li>遵循局部性原理</li>
<li>关注常见情况优化</li>
</ol>
<h4 id="并行算法设计步骤："><a href="#并行算法设计步骤：" class="headerlink" title="并行算法设计步骤："></a>并行算法设计步骤：</h4><ol>
<li>任务划分</li>
<li>通信分析</li>
<li>任务组合</li>
<li>处理器映射</li>
</ol>
<h4 id="重要图表位置："><a href="#重要图表位置：" class="headerlink" title="重要图表位置："></a>重要图表位置：</h4><ul>
<li>CPU性能影响因素表：P12</li>
<li>处理器性能方程：P9-10</li>
<li>性能评测指标汇总：P16</li>
</ul>
<h2 id="高性能计算机的体系结构"><a href="#高性能计算机的体系结构" class="headerlink" title="高性能计算机的体系结构"></a>高性能计算机的体系结构</h2><h3 id="超级计算机硬件组成"><a href="#超级计算机硬件组成" class="headerlink" title="超级计算机硬件组成"></a>超级计算机硬件组成</h3><h4 id="五大核心子系统"><a href="#五大核心子系统" class="headerlink" title="五大核心子系统"></a>五大核心子系统</h4><ol>
<li>计算阵列：</li>
</ol>
<ul>
<li>处理器节点的集合</li>
<li>例子：天河一号(7168个节点)、天河二号(17920个节点)</li>
<li>每个节点通常包含CPU和加速器(如GPU、Intel Xeon Phi)</li>
</ul>
<ol start="2">
<li>存储阵列：</li>
</ol>
<ul>
<li>采用层次式混合共享存储架构</li>
<li>特点：大容量、高带宽、低延迟</li>
<li>实例数据：<ul>
<li>天河一号：262TB内存，2PB磁盘</li>
<li>天河二号：1.408PB内存，12.4PB外存</li>
</ul>
</li>
</ul>
<ol start="3">
<li>服务阵列：</li>
</ol>
<ul>
<li>基于商用服务器</li>
<li>属于大容量胖节点</li>
<li>物理组织：多个机架组成<ul>
<li>天河一号：140个机架</li>
<li>天河二号：125个机柜，500个机架</li>
</ul>
</li>
</ul>
<ol start="4">
<li>互连通信子系统：</li>
</ol>
<ul>
<li>是大规模并行系统的核心</li>
<li>典型拓扑：胖树结构</li>
<li>支持硬件实现的集体操作(如多播、广播)</li>
</ul>
<ol start="5">
<li>监控诊断子系统：</li>
</ol>
<ul>
<li>功能：实时监控、控制、诊断系统状态</li>
<li>监控对象：健康状态、功耗、温度等</li>
</ul>
<h3 id="计算机体系结构分类"><a href="#计算机体系结构分类" class="headerlink" title="计算机体系结构分类"></a>计算机体系结构分类</h3><h4 id="Flynn分类法"><a href="#Flynn分类法" class="headerlink" title="Flynn分类法"></a>Flynn分类法</h4><h5 id="重点概念：-1"><a href="#重点概念：-1" class="headerlink" title="重点概念："></a>重点概念：</h5><ol>
<li>指令流(I)：执行的指令序列</li>
<li>数据流(D)：被处理的数据序列</li>
<li>多倍性(M)：同时处理的指令&#x2F;数据数量</li>
</ol>
<h5 id="四种基本类型："><a href="#四种基本类型：" class="headerlink" title="四种基本类型："></a>四种基本类型：</h5><ol>
<li>SISD(单指令流单数据流)：</li>
</ol>
<ul>
<li>传统串行计算机</li>
<li>代表：早期PC机、8086处理器</li>
</ul>
<ol start="2">
<li>SIMD(单指令流多数据流)：</li>
</ol>
<ul>
<li>特点：对多个数据并行执行相同操作</li>
<li>两个主要分支：<ul>
<li>阵列计算机(如ILLIAC IV)</li>
<li>向量计算机(如Cray-1)</li>
</ul>
</li>
</ul>
<ol start="3">
<li>MISD(多指令流单数据流)：</li>
</ol>
<ul>
<li>存在争议</li>
<li>可能的例子：流水线结构</li>
</ul>
<ol start="4">
<li>MIMD(多指令流多数据流)：</li>
</ol>
<ul>
<li>最广泛使用的并行架构</li>
<li>两种主要实现：<ul>
<li>共享内存系统</li>
<li>分布式内存系统</li>
</ul>
</li>
</ul>
<h5 id="实例分析"><a href="#实例分析" class="headerlink" title="实例分析"></a>实例分析</h5><h6 id="Cray-1向量计算机结构："><a href="#Cray-1向量计算机结构：" class="headerlink" title="Cray-1向量计算机结构："></a>Cray-1向量计算机结构：</h6><ul>
<li>向量寄存器组(V0-V7)：每个可存64个元素</li>
<li>标量寄存器(S0-S7)</li>
<li>后援寄存器(T0-T63)</li>
</ul>
<h4 id="MIMD细分类型"><a href="#MIMD细分类型" class="headerlink" title="MIMD细分类型"></a>MIMD细分类型</h4><h5 id="A-共享内存系统"><a href="#A-共享内存系统" class="headerlink" title="A. 共享内存系统"></a>A. 共享内存系统</h5><ol>
<li>集中共享内存(CSM&#x2F;SMP&#x2F;UMA)：</li>
</ol>
<ul>
<li>特点：所有处理器访问延迟相同</li>
<li>优点：编程简单</li>
<li>缺点：扩展性有限</li>
</ul>
<ol start="2">
<li>分布式共享内存(DSM&#x2F;NUMA)：</li>
</ol>
<ul>
<li>特点：本地访问快，远程访问慢</li>
<li>两种类型：<ul>
<li>NC-NUMA：无缓存</li>
<li>CC-NUMA：带缓存一致性</li>
</ul>
</li>
</ul>
<h5 id="B-分布式内存系统"><a href="#B-分布式内存系统" class="headerlink" title="B. 分布式内存系统"></a>B. 分布式内存系统</h5><ol>
<li>MPP(大规模并行处理器)：</li>
</ol>
<ul>
<li>特点：专用高速互连网络</li>
<li>应用：科学计算</li>
<li>节点特征：共享磁盘系统</li>
</ul>
<ol start="2">
<li>COW(工作站集群)：</li>
</ol>
<ul>
<li>特点：商用网络连接</li>
<li>应用：云计算数据中心</li>
<li>每节点独立完整</li>
</ul>
<h3 id="非冯诺依曼体系结构"><a href="#非冯诺依曼体系结构" class="headerlink" title="非冯诺依曼体系结构"></a>非冯诺依曼体系结构</h3><h4 id="主要类型：-1"><a href="#主要类型：-1" class="headerlink" title="主要类型："></a>主要类型：</h4><ul>
<li>归约机</li>
<li>数据流计算机</li>
<li>量子计算机</li>
<li>光子计算机</li>
</ul>
<h4 id="数据流计算机特点："><a href="#数据流计算机特点：" class="headerlink" title="数据流计算机特点："></a>数据流计算机特点：</h4><ul>
<li>数据就绪驱动执行</li>
<li>打破串行执行限制</li>
<li>现代应用：云计算、大数据分析系统</li>
</ul>
<h5 id="重要图表位置标注：-1"><a href="#重要图表位置标注：-1" class="headerlink" title="重要图表位置标注："></a>重要图表位置标注：</h5><ul>
<li>Flynn分类法示意图：P29</li>
<li>共享内存系统架构图：P64-65</li>
<li>分布式内存系统架构图：P74</li>
<li>冯诺依曼架构图：P83</li>
</ul>
<h2 id="高性能处理器的并行计算技术-指令级并行"><a href="#高性能处理器的并行计算技术-指令级并行" class="headerlink" title="高性能处理器的并行计算技术-指令级并行"></a>高性能处理器的并行计算技术-指令级并行</h2><h3 id="指令级并行基础"><a href="#指令级并行基础" class="headerlink" title="指令级并行基础"></a>指令级并行基础</h3><h4 id="并行性类型"><a href="#并行性类型" class="headerlink" title="并行性类型"></a>并行性类型</h4><ol>
<li>数据级并行(DLP)</li>
</ol>
<ul>
<li>同时对多个数据项进行操作</li>
</ul>
<ol start="2">
<li>任务级并行(TLP)</li>
</ol>
<ul>
<li>多个独立任务并行执行</li>
</ul>
<h4 id="硬件利用并行性的四种方式："><a href="#硬件利用并行性的四种方式：" class="headerlink" title="硬件利用并行性的四种方式："></a>硬件利用并行性的四种方式：</h4><h5 id="A-指令级并行-ILP-："><a href="#A-指令级并行-ILP-：" class="headerlink" title="A. 指令级并行(ILP)："></a>A. 指令级并行(ILP)：</h5><ul>
<li>通过流水线和投机执行等方式利用DLP</li>
<li>主要特征：深度流水线、多功能部件、多发射</li>
</ul>
<h5 id="B-向量架构和GPU："><a href="#B-向量架构和GPU：" class="headerlink" title="B. 向量架构和GPU："></a>B. 向量架构和GPU：</h5><ul>
<li>单指令操作多个数据集合</li>
</ul>
<h5 id="C-线程级并行："><a href="#C-线程级并行：" class="headerlink" title="C. 线程级并行："></a>C. 线程级并行：</h5><ul>
<li>利用多线程执行</li>
</ul>
<h5 id="D-请求级并行："><a href="#D-请求级并行：" class="headerlink" title="D. 请求级并行："></a>D. 请求级并行：</h5><ul>
<li>处理独立的程序请求</li>
</ul>
<h3 id="指令级并行的挑战"><a href="#指令级并行的挑战" class="headerlink" title="指令级并行的挑战"></a>指令级并行的挑战</h3><h4 id="三种基本冒险："><a href="#三种基本冒险：" class="headerlink" title="三种基本冒险："></a>三种基本冒险：</h4><h5 id="A-结构冒险："><a href="#A-结构冒险：" class="headerlink" title="A. 结构冒险："></a>A. 结构冒险：</h5><ul>
<li>原因：多条指令竞争同一硬件资源</li>
<li>示例：内存端口争用</li>
<li>解决方案：资源复制(如分离的数据Cache和指令Cache)</li>
</ul>
<h5 id="B-数据冒险："><a href="#B-数据冒险：" class="headerlink" title="B. 数据冒险："></a>B. 数据冒险：</h5><ol>
<li><p>RAW(Read After Write)：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">I1: add r1,r2,r3</span><br><span class="line">I2: sub r4,r1,r3  // 等待r1</span><br></pre></td></tr></table></figure>
</li>
<li><p>WAR(Write After Read)：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">I1: sub r4,r1,r3</span><br><span class="line">I2: add r1,r2,r3  // 必须等I1读完r1</span><br></pre></td></tr></table></figure>
</li>
<li><p>WAW(Write After Write)：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">I1: sub r1,r4,r3</span><br><span class="line">I2: add r1,r2,r3  // 写入次序不能颠倒</span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="C-控制冒险："><a href="#C-控制冒险：" class="headerlink" title="C. 控制冒险："></a>C. 控制冒险：</h5><ul>
<li>由分支指令引起</li>
<li>影响严重：每3-6条指令就有一个分支</li>
<li>解决方案：分支预测</li>
</ul>
<h4 id="解决数据冒险的基本方法："><a href="#解决数据冒险的基本方法：" class="headerlink" title="解决数据冒险的基本方法："></a>解决数据冒险的基本方法：</h4><h5 id="A-转发（Forward）："><a href="#A-转发（Forward）：" class="headerlink" title="A. 转发（Forward）："></a>A. 转发（Forward）：</h5><ul>
<li>将计算结果直接转发给需要的功能部件</li>
<li>优点：减少等待时间</li>
<li>局限：不能解决所有RAW冒险</li>
</ul>
<h3 id="循环展开优化"><a href="#循环展开优化" class="headerlink" title="循环展开优化"></a>循环展开优化</h3><h4 id="重点概念：-2"><a href="#重点概念：-2" class="headerlink" title="重点概念："></a>重点概念：</h4><ol>
<li>循环展开目的：</li>
</ol>
<ul>
<li>减少循环控制开销</li>
<li>增加指令级并行机会</li>
</ul>
<ol start="2">
<li>基本步骤：</li>
</ol>
<ul>
<li>确认循环迭代间独立性</li>
<li>使用不同寄存器避免名字相关</li>
<li>去除多余分支指令</li>
<li>调整循环终止条件</li>
<li>分析存储地址相关性</li>
<li>进行指令调度</li>
</ul>
<h5 id="实例分析：-2"><a href="#实例分析：-2" class="headerlink" title="实例分析："></a>实例分析：</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">原始循环：</span><br><span class="line">Loop: fld f0,0(x1)</span><br><span class="line">      fadd.d f4,f0,f2</span><br><span class="line">      fsd f4,0(x1)</span><br><span class="line">      addi x1,x1,-8</span><br><span class="line">      bne x1,x2,Loop</span><br></pre></td></tr></table></figure>

<p>展开优化后：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Loop: fld f0,0(x1)</span><br><span class="line">      fld f6,8(x1)</span><br><span class="line">      fld f10,16(x1)</span><br><span class="line">      fld f14,24(x1)</span><br><span class="line">      fadd.d f4,f0,f2</span><br><span class="line">      fadd.d f8,f6,f2</span><br><span class="line">      fadd.d f12,f0,f2</span><br><span class="line">      fadd.d f16,f14,f2</span><br><span class="line">      fsd f4,0(x1)</span><br><span class="line">      fsd f8,8(x1)</span><br><span class="line">      addi x1,x1,32</span><br><span class="line">      fsd f12,16(x1)</span><br><span class="line">      bne x1,x2,Loop</span><br><span class="line">      fsd f16,24(x1)</span><br></pre></td></tr></table></figure>

<p>优化效果：</p>
<ul>
<li>未优化：每循环10个时钟周期</li>
<li>优化后：每原始循环3.5个时钟周期</li>
<li>加速比：2.86倍</li>
</ul>
<h3 id="分支预测"><a href="#分支预测" class="headerlink" title="分支预测"></a>分支预测</h3><h4 id="基本概念与重要性"><a href="#基本概念与重要性" class="headerlink" title="基本概念与重要性"></a>基本概念与重要性</h4><h5 id="重点："><a href="#重点：" class="headerlink" title="重点："></a>重点：</h5><ul>
<li>分支指令频率：每3-6条指令就有一个分支</li>
<li>影响程序性能：10%-30%的性能损失</li>
<li>对ILP的影响：指令级并行度越高，分支预测的重要性越大</li>
</ul>
<h4 id="分支预测技术分类"><a href="#分支预测技术分类" class="headerlink" title="分支预测技术分类"></a>分支预测技术分类</h4><h5 id="A-静态预测："><a href="#A-静态预测：" class="headerlink" title="A. 静态预测："></a>A. 静态预测：</h5><ol>
<li>基于编译时信息</li>
<li>典型方法：</li>
</ol>
<ul>
<li>总是预测分支不跳转</li>
<li>总是预测分支跳转</li>
<li>延迟分支（Delayed Branch）</li>
</ul>
<h5 id="B-动态预测："><a href="#B-动态预测：" class="headerlink" title="B. 动态预测："></a>B. 动态预测：</h5><ol>
<li>简单的1位预测器：</li>
</ol>
<ul>
<li>记录最近一次分支结果</li>
</ul>
<ol start="2">
<li>2位预测器：</li>
</ol>
<ul>
<li>使用饱和计数器</li>
<li>需要连续两次预测错误才改变预测方向</li>
</ul>
<ol start="3">
<li>相关预测器（两级预测器）：</li>
</ol>
<ul>
<li>(m,n)预测器：<ul>
<li>m位历史记录</li>
<li>n位预测器</li>
</ul>
</li>
<li>实例：(2,2)预测器<ul>
<li>全局历史：2位</li>
<li>每个分支2位预测器</li>
</ul>
</li>
</ul>
<ol start="4">
<li>竞赛预测器（Tournament Predictor）：</li>
</ol>
<ul>
<li>结合局部预测和全局预测</li>
<li>动态选择更准确的预测器</li>
</ul>
<h4 id="分支目标缓存-BTB"><a href="#分支目标缓存-BTB" class="headerlink" title="分支目标缓存(BTB)"></a>分支目标缓存(BTB)</h4><h5 id="重要组成："><a href="#重要组成：" class="headerlink" title="重要组成："></a>重要组成：</h5><ol>
<li>基本结构：</li>
</ol>
<ul>
<li>分支指令PC</li>
<li>预测标志</li>
<li>目标地址</li>
</ul>
<ol start="2">
<li><p>工作流程：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (PC in BTB) &#123;</span><br><span class="line">    next_PC = predicted_target;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    next_PC = PC + 4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>失效代价：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BTB失效类型   预测   实际   惩罚周期</span><br><span class="line">命中          跳转   跳转   0</span><br><span class="line">命中          跳转   不跳转 2</span><br><span class="line">未命中        -      跳转   2</span><br><span class="line">未命中        -      不跳转 0</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="推测执行"><a href="#推测执行" class="headerlink" title="推测执行"></a>推测执行</h3><h4 id="重排序缓冲区-ROB"><a href="#重排序缓冲区-ROB" class="headerlink" title="重排序缓冲区(ROB)"></a>重排序缓冲区(ROB)</h4><h5 id="重点概念：-3"><a href="#重点概念：-3" class="headerlink" title="重点概念："></a>重点概念：</h5><ol>
<li>ROB的基本功能：</li>
</ol>
<ul>
<li>按序发射</li>
<li>乱序执行</li>
<li>按序提交</li>
</ul>
<ol start="2">
<li>ROB条目构成：</li>
</ol>
<ul>
<li>指令类型</li>
<li>目标寄存器</li>
<li>值</li>
<li>就绪标志</li>
</ul>
<h5 id="重要机制："><a href="#重要机制：" class="headerlink" title="重要机制："></a>重要机制：</h5><ol>
<li>指令发射：</li>
</ol>
<ul>
<li>分配ROB和保留站</li>
<li>读取可用操作数</li>
</ul>
<ol start="2">
<li>指令执行：</li>
</ol>
<ul>
<li>操作数就绪即可执行</li>
<li>结果暂存ROB</li>
</ul>
<ol start="3">
<li>写回结果：</li>
</ol>
<ul>
<li>通过CDB广播结果</li>
<li>更新等待该结果的条目</li>
</ul>
<ol start="4">
<li>提交过程：</li>
</ol>
<ul>
<li>按程序顺序提交</li>
<li>确保精确中断</li>
<li>处理预测错误</li>
</ul>
<h4 id="实例分析-1"><a href="#实例分析-1" class="headerlink" title="实例分析"></a>实例分析</h4><h5 id="示例代码："><a href="#示例代码：" class="headerlink" title="示例代码："></a>示例代码：</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">L.D F6,34(R2)</span><br><span class="line">L.D F2,45(R3)</span><br><span class="line">MUL.D F0,F2,F4</span><br><span class="line">SUB.D F8,F6,F2</span><br><span class="line">DIV.D F10,F0,F6</span><br><span class="line">ADD.D F6,F8,F2</span><br></pre></td></tr></table></figure>

<h5 id="执行过程："><a href="#执行过程：" class="headerlink" title="执行过程："></a>执行过程：</h5><ol>
<li>Load指令:</li>
</ol>
<ul>
<li>立即发射</li>
<li>等待内存访问</li>
<li>按序提交</li>
</ul>
<ol start="2">
<li>计算指令：</li>
</ol>
<ul>
<li>等待操作数就绪</li>
<li>乱序执行</li>
<li>按序提交</li>
</ul>
<ol start="3">
<li>分支预测错误处理：</li>
</ol>
<ul>
<li>清除ROB中错误路径指令</li>
<li>恢复正确的程序状态</li>
</ul>
<p>【重要图表位置】</p>
<ul>
<li>两级预测器结构图：P25</li>
<li>BTB结构图：P37</li>
<li>ROB组织结构图：P47</li>
</ul>
<h3 id="超标量-Superscalar-处理器"><a href="#超标量-Superscalar-处理器" class="headerlink" title="超标量(Superscalar)处理器"></a>超标量(Superscalar)处理器</h3><h4 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h4><ol>
<li>核心特征：</li>
</ol>
<ul>
<li>每个时钟周期发射多条指令</li>
<li>动态检测指令间依赖</li>
<li>硬件负责调度</li>
</ul>
<ol start="2">
<li>关键组件：</li>
</ol>
<ul>
<li>多个功能部件</li>
<li>复杂的发射逻辑</li>
<li>动态依赖检测</li>
</ul>
<h4 id="主要挑战"><a href="#主要挑战" class="headerlink" title="主要挑战"></a>主要挑战</h4><h5 id="A-结构复杂度："><a href="#A-结构复杂度：" class="headerlink" title="A. 结构复杂度："></a>A. 结构复杂度：</h5><ul>
<li>检测W条待发射指令与L组执行指令间的依赖</li>
<li>复杂度：O(W * (W*L))</li>
</ul>
<h5 id="B-性能瓶颈："><a href="#B-性能瓶颈：" class="headerlink" title="B. 性能瓶颈："></a>B. 性能瓶颈：</h5><ol>
<li>指令发射带宽限制</li>
<li>功能部件数量限制</li>
<li>转发(Forward)复杂度增加</li>
</ol>
<h4 id="实例分析-2"><a href="#实例分析-2" class="headerlink" title="实例分析"></a>实例分析</h4><p>双发射MIPS处理器示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Loop: L.D F0,0(R1)</span><br><span class="line">      ADD.D F4,F0,F2</span><br><span class="line">      S.D F4,0(R1)</span><br><span class="line">      DADDIU R1,R1,#-8</span><br><span class="line">      BNE R1,R2,Loop</span><br></pre></td></tr></table></figure>

<p>执行效率：</p>
<ul>
<li>IPC(Instructions Per Clock)：1.67</li>
<li>每3个时钟完成一次循环迭代</li>
</ul>
<h3 id="超长指令字-VLIW"><a href="#超长指令字-VLIW" class="headerlink" title="超长指令字(VLIW)"></a>超长指令字(VLIW)</h3><h4 id="基本特征："><a href="#基本特征：" class="headerlink" title="基本特征："></a>基本特征：</h4><ol>
<li>编译时调度：</li>
</ol>
<ul>
<li>编译器负责发现并行性</li>
<li>将多条独立指令打包</li>
</ul>
<ol start="2">
<li>指令包格式：</li>
</ol>
<ul>
<li>长度：112-168位</li>
<li>典型组成：<ul>
<li>2个整数运算</li>
<li>2个浮点运算</li>
<li>2个访存操作</li>
<li>1个分支指令</li>
</ul>
</li>
</ul>
<h4 id="优缺点分析"><a href="#优缺点分析" class="headerlink" title="优缺点分析"></a>优缺点分析</h4><h5 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h5><ol>
<li>硬件简单</li>
<li>执行效率高</li>
<li>功耗低</li>
</ol>
<h5 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h5><ol>
<li>代码膨胀</li>
<li>可移植性差</li>
<li>Lock-step限制</li>
</ol>
<h5 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h5><ol>
<li>代码压缩</li>
<li>动态调度</li>
<li>目标代码转换</li>
</ol>
<h3 id="同时多线程-SMT"><a href="#同时多线程-SMT" class="headerlink" title="同时多线程(SMT)"></a>同时多线程(SMT)</h3><h4 id="基本概念："><a href="#基本概念：" class="headerlink" title="基本概念："></a>基本概念：</h4><ul>
<li>多个线程共享处理器资源</li>
<li>每个线程有独立的上下文</li>
<li>支持快速线程切换</li>
</ul>
<h4 id="实现方式："><a href="#实现方式：" class="headerlink" title="实现方式："></a>实现方式：</h4><h5 id="A-细粒度多线程："><a href="#A-细粒度多线程：" class="headerlink" title="A. 细粒度多线程："></a>A. 细粒度多线程：</h5><ul>
<li>每个时钟切换线程</li>
<li>优点：资源利用率高</li>
<li>缺点：单线程延迟增加</li>
</ul>
<h5 id="B-粗粒度多线程："><a href="#B-粗粒度多线程：" class="headerlink" title="B. 粗粒度多线程："></a>B. 粗粒度多线程：</h5><ul>
<li>长延迟事件触发切换</li>
<li>优点：单线程性能好</li>
<li>缺点：资源利用率较低</li>
</ul>
<h5 id="C-同时多线程-SMT-："><a href="#C-同时多线程-SMT-：" class="headerlink" title="C. 同时多线程(SMT)："></a>C. 同时多线程(SMT)：</h5><ul>
<li>多个线程同时执行</li>
<li>结合超标量技术</li>
<li>需要更多硬件资源</li>
</ul>
<h3 id="ILP限制因素"><a href="#ILP限制因素" class="headerlink" title="ILP限制因素"></a>ILP限制因素</h3><h4 id="理想处理器假设："><a href="#理想处理器假设：" class="headerlink" title="理想处理器假设："></a>理想处理器假设：</h4><ol>
<li>无限虚拟寄存器</li>
<li>完美分支预测</li>
<li>完美值预测</li>
<li>无限缓存</li>
</ol>
<h4 id="实际限制："><a href="#实际限制：" class="headerlink" title="实际限制："></a>实际限制：</h4><h5 id="A-指令窗口大小："><a href="#A-指令窗口大小：" class="headerlink" title="A. 指令窗口大小："></a>A. 指令窗口大小：</h5><ul>
<li>实际窗口大小：数百条指令</li>
<li>影响IPC显著</li>
</ul>
<h5 id="B-分支预测："><a href="#B-分支预测：" class="headerlink" title="B. 分支预测："></a>B. 分支预测：</h5><ul>
<li>完美预测vs实际预测</li>
<li>预测错误代价高</li>
</ul>
<h5 id="C-寄存器数量："><a href="#C-寄存器数量：" class="headerlink" title="C. 寄存器数量："></a>C. 寄存器数量：</h5><ul>
<li>256个寄存器基本足够</li>
<li>更多寄存器收益递减</li>
</ul>
<h5 id="重要图表位置：-1"><a href="#重要图表位置：-1" class="headerlink" title="重要图表位置："></a>重要图表位置：</h5><ul>
<li>窗口大小影响：P60-61</li>
<li>分支预测影响：P64-65</li>
<li>寄存器数量影响：P67-68</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://Lavoisier7.github.io">Lavoisier</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://lavoisier7.github.io/posts/4d594d97.html">http://lavoisier7.github.io/posts/4d594d97.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://Lavoisier7.github.io" target="_blank">D</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/elective/">elective</a><a class="post-meta__tags" href="/tags/CA/">CA</a></div><div class="post-share"><div class="social-share" data-image="/img/Yoimiya.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/d9196bbd.html" title="Database Principle"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Database Principle</div></div><div class="info-2"><div class="info-item-1">2024-2025 DCS281 本文基于《Database System Concepts, 7th Ed.》的课本内容，对 SYSU-CSE DCS281 计算机专业课《数据库系统原理》进行较为详尽的知识点总结，涵盖少量实例分析。 第一章 数据库系统概述1.1 数据库应用实例重点：  了解数据库在各行业中的应用，如企业信息管理、制造业、银行与金融、大学系统、航空公司、电信、网络服务等。  难点：  理解不同应用场景下数据库系统的具体需求和实现方式。  实例分析：  银行与金融：管理客户信息、账户、贷款及交易。 航空公司：处理预订和航班时刻表。 电信：记录通话、短信和数据使用情况，生成月度账单。  1.2 数据与数据库系统重点：  区分数据与信息，理解数据库系统的定义及其目的。  难点：  理解数据抽象及其在数据库系统中的作用。  实例分析：  数据：符号化的信息，如学生成绩、图片的像素点。 信息：数据的语义解释，如“学生A的数学成绩为90分”。  1.3...</div></div></div></a><a class="pagination-related" href="/posts/b2db68a7.html" title="分布式系统"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">分布式系统</div></div><div class="info-2"><div class="info-item-1">本文基于 SYSU-DCS325 的内容，对计算机专业课《分布式系统》进行较为详尽的知识点总结，涵盖少量实例分析。 1. 课程概述1.1 课程目标 理解分布式系统的基本概念与核心原理。 掌握分布式系统的架构设计方法。 学习分布式系统的编程技术与工具。 了解分布式系统的运维与管理策略。 探索分布式系统领域的前沿技术与发展趋势。 激发学生对分布式系统研究与应用的兴趣。  1.2 课程内容安排   章节 内容    第1讲 分布式系统概述   第2讲 分布式系统体系架构   第3讲 分布式系统进程模型   第4讲 分布式系统通信   第5讲 分布式系统命名   第6讲 时钟与时间同步   第7讲 分布式系统同步   第8讲 分布式系统一致性   第9讲 分布式系统复制   第10讲 容错与可靠性保障   第11讲 分布式系统共识   第12讲 Paxos及RAFT协议   第13讲 分布式文件系统与存储系统   第14讲 面向大数据与AI的分布式计算框架   第15讲 P2P及内容分发网络   2. 分布式系统基础概念2.1...</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/Yoimiya.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Lavoisier</div><div class="author-info-description">世故消耗激情，岁月打磨棱角，现实浪掷理想。</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">33</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Lavoisier7"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Lavoisier7" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:wzd6@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">博主最近做对索引和框架做了较大改动，故2025年8月4日及以前的浏览量和评论均已清空。如有需要请与博主联系，博主可分享相关的非隐私内容和数据。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%AA%E8%AE%BA"><span class="toc-number">1.</span> <span class="toc-text">绪论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BE%E7%A8%8B%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.1.</span> <span class="toc-text">课程基本信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BE%E7%A8%8B%E5%AE%9A%E4%BD%8D%E4%B8%8E%E7%9B%AE%E6%A0%87"><span class="toc-number">1.1.1.</span> <span class="toc-text">课程定位与目标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BE%E7%A8%8B%E5%86%85%E5%AE%B9%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.2.</span> <span class="toc-text">课程内容结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8F%E5%8C%96%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90%E5%9F%BA%E7%A1%80"><span class="toc-number">1.2.</span> <span class="toc-text">量化设计与分析基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E5%86%85%E5%AE%B9%EF%BC%9A"><span class="toc-number">1.2.1.</span> <span class="toc-text">重点内容：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%BE%E7%82%B9%EF%BC%9A"><span class="toc-number">1.2.2.</span> <span class="toc-text">难点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="toc-number">1.2.3.</span> <span class="toc-text">关键概念：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-number">1.3.</span> <span class="toc-text">高性能计算机发展史</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E5%86%85%E5%AE%B9%EF%BC%9A-1"><span class="toc-number">1.3.1.</span> <span class="toc-text">重点内容：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-number">1.3.2.</span> <span class="toc-text">实例分析：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B6%85%E7%BA%A7%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%BA%94%E7%94%A8%E9%A2%86%E5%9F%9F%EF%BC%9A"><span class="toc-number">1.3.3.</span> <span class="toc-text">超级计算机应用领域：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E5%9B%BE%E8%A1%A8%E4%BD%8D%E7%BD%AE%E6%A0%87%E6%B3%A8%EF%BC%9A"><span class="toc-number">1.3.4.</span> <span class="toc-text">重要图表位置标注：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E7%BB%93%E8%AE%BA%EF%BC%9A"><span class="toc-number">1.3.5.</span> <span class="toc-text">关键结论：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E5%87%86%E8%AF%84%E6%B5%8B%E9%9B%86"><span class="toc-number">2.</span> <span class="toc-text">基准评测集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%80%A7%E8%83%BD%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.</span> <span class="toc-text">计算机性能基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">2.1.1.</span> <span class="toc-text">性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%EF%BC%9ACPU%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">重点：CPU性能评估方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%BA%A6%E9%87%8F%E6%A0%87%E5%87%86%EF%BC%9A"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">性能度量标准：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E8%A1%8C%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0"><span class="toc-number">2.1.2.</span> <span class="toc-text">并行系统性能评估</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="toc-number">2.1.3.</span> <span class="toc-text">重点概念：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9A%BE%E7%82%B9%EF%BC%9AAmdahl%E5%AE%9A%E5%BE%8B"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">难点：Amdahl定律</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Gustafson%E5%AE%9A%E5%BE%8B"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">Gustafson定律</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E5%87%86%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.2.</span> <span class="toc-text">基准测试程序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">2.2.1.</span> <span class="toc-text">主要类型：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%88%86%E6%9E%90%EF%BC%9A-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">实例分析：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.</span> <span class="toc-text">性能提升方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%AD%96%E7%95%A5%EF%BC%9A"><span class="toc-number">2.3.1.</span> <span class="toc-text">主要策略：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E8%A1%8C%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="toc-number">2.3.2.</span> <span class="toc-text">并行算法设计步骤：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E5%9B%BE%E8%A1%A8%E4%BD%8D%E7%BD%AE%EF%BC%9A"><span class="toc-number">2.3.3.</span> <span class="toc-text">重要图表位置：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">高性能计算机的体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E7%BA%A7%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6%E7%BB%84%E6%88%90"><span class="toc-number">3.1.</span> <span class="toc-text">超级计算机硬件组成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94%E5%A4%A7%E6%A0%B8%E5%BF%83%E5%AD%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.1.1.</span> <span class="toc-text">五大核心子系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.2.</span> <span class="toc-text">计算机体系结构分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Flynn%E5%88%86%E7%B1%BB%E6%B3%95"><span class="toc-number">3.2.1.</span> <span class="toc-text">Flynn分类法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E6%A6%82%E5%BF%B5%EF%BC%9A-1"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">重点概念：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9B%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">四种基本类型：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%88%86%E6%9E%90"><span class="toc-number">3.2.1.3.</span> <span class="toc-text">实例分析</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Cray-1%E5%90%91%E9%87%8F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="toc-number">3.2.1.3.1.</span> <span class="toc-text">Cray-1向量计算机结构：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MIMD%E7%BB%86%E5%88%86%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.2.</span> <span class="toc-text">MIMD细分类型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">A. 共享内存系统</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#B-%E5%88%86%E5%B8%83%E5%BC%8F%E5%86%85%E5%AD%98%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">B. 分布式内存系统</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E5%86%AF%E8%AF%BA%E4%BE%9D%E6%9B%BC%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">3.3.</span> <span class="toc-text">非冯诺依曼体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E7%B1%BB%E5%9E%8B%EF%BC%9A-1"><span class="toc-number">3.3.1.</span> <span class="toc-text">主要类型：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="toc-number">3.3.2.</span> <span class="toc-text">数据流计算机特点：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E5%9B%BE%E8%A1%A8%E4%BD%8D%E7%BD%AE%E6%A0%87%E6%B3%A8%EF%BC%9A-1"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">重要图表位置标注：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E6%80%A7%E8%83%BD%E5%A4%84%E7%90%86%E5%99%A8%E7%9A%84%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97%E6%8A%80%E6%9C%AF-%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C"><span class="toc-number">4.</span> <span class="toc-text">高性能处理器的并行计算技术-指令级并行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C%E5%9F%BA%E7%A1%80"><span class="toc-number">4.1.</span> <span class="toc-text">指令级并行基础</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E8%A1%8C%E6%80%A7%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.1.1.</span> <span class="toc-text">并行性类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E5%88%A9%E7%94%A8%E5%B9%B6%E8%A1%8C%E6%80%A7%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">4.1.2.</span> <span class="toc-text">硬件利用并行性的四种方式：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C-ILP-%EF%BC%9A"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">A. 指令级并行(ILP)：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#B-%E5%90%91%E9%87%8F%E6%9E%B6%E6%9E%84%E5%92%8CGPU%EF%BC%9A"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">B. 向量架构和GPU：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#C-%E7%BA%BF%E7%A8%8B%E7%BA%A7%E5%B9%B6%E8%A1%8C%EF%BC%9A"><span class="toc-number">4.1.2.3.</span> <span class="toc-text">C. 线程级并行：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#D-%E8%AF%B7%E6%B1%82%E7%BA%A7%E5%B9%B6%E8%A1%8C%EF%BC%9A"><span class="toc-number">4.1.2.4.</span> <span class="toc-text">D. 请求级并行：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C%E7%9A%84%E6%8C%91%E6%88%98"><span class="toc-number">4.2.</span> <span class="toc-text">指令级并行的挑战</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E5%9F%BA%E6%9C%AC%E5%86%92%E9%99%A9%EF%BC%9A"><span class="toc-number">4.2.1.</span> <span class="toc-text">三种基本冒险：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E7%BB%93%E6%9E%84%E5%86%92%E9%99%A9%EF%BC%9A"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">A. 结构冒险：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#B-%E6%95%B0%E6%8D%AE%E5%86%92%E9%99%A9%EF%BC%9A"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">B. 数据冒险：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#C-%E6%8E%A7%E5%88%B6%E5%86%92%E9%99%A9%EF%BC%9A"><span class="toc-number">4.2.1.3.</span> <span class="toc-text">C. 控制冒险：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%95%B0%E6%8D%AE%E5%86%92%E9%99%A9%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">4.2.2.</span> <span class="toc-text">解决数据冒险的基本方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E8%BD%AC%E5%8F%91%EF%BC%88Forward%EF%BC%89%EF%BC%9A"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">A. 转发（Forward）：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%B1%95%E5%BC%80%E4%BC%98%E5%8C%96"><span class="toc-number">4.3.</span> <span class="toc-text">循环展开优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E6%A6%82%E5%BF%B5%EF%BC%9A-2"><span class="toc-number">4.3.1.</span> <span class="toc-text">重点概念：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%88%86%E6%9E%90%EF%BC%9A-2"><span class="toc-number">4.3.1.1.</span> <span class="toc-text">实例分析：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B"><span class="toc-number">4.4.</span> <span class="toc-text">分支预测</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E9%87%8D%E8%A6%81%E6%80%A7"><span class="toc-number">4.4.1.</span> <span class="toc-text">基本概念与重要性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%EF%BC%9A"><span class="toc-number">4.4.1.1.</span> <span class="toc-text">重点：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B%E6%8A%80%E6%9C%AF%E5%88%86%E7%B1%BB"><span class="toc-number">4.4.2.</span> <span class="toc-text">分支预测技术分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E9%9D%99%E6%80%81%E9%A2%84%E6%B5%8B%EF%BC%9A"><span class="toc-number">4.4.2.1.</span> <span class="toc-text">A. 静态预测：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#B-%E5%8A%A8%E6%80%81%E9%A2%84%E6%B5%8B%EF%BC%9A"><span class="toc-number">4.4.2.2.</span> <span class="toc-text">B. 动态预测：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%9B%AE%E6%A0%87%E7%BC%93%E5%AD%98-BTB"><span class="toc-number">4.4.3.</span> <span class="toc-text">分支目标缓存(BTB)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%BB%84%E6%88%90%EF%BC%9A"><span class="toc-number">4.4.3.1.</span> <span class="toc-text">重要组成：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E6%B5%8B%E6%89%A7%E8%A1%8C"><span class="toc-number">4.5.</span> <span class="toc-text">推测执行</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E6%8E%92%E5%BA%8F%E7%BC%93%E5%86%B2%E5%8C%BA-ROB"><span class="toc-number">4.5.1.</span> <span class="toc-text">重排序缓冲区(ROB)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E7%82%B9%E6%A6%82%E5%BF%B5%EF%BC%9A-3"><span class="toc-number">4.5.1.1.</span> <span class="toc-text">重点概念：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E6%9C%BA%E5%88%B6%EF%BC%9A"><span class="toc-number">4.5.1.2.</span> <span class="toc-text">重要机制：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%88%86%E6%9E%90-1"><span class="toc-number">4.5.2.</span> <span class="toc-text">实例分析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">4.5.2.1.</span> <span class="toc-text">示例代码：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-number">4.5.2.2.</span> <span class="toc-text">执行过程：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E6%A0%87%E9%87%8F-Superscalar-%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">4.6.</span> <span class="toc-text">超标量(Superscalar)处理器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">4.6.1.</span> <span class="toc-text">基本原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E6%8C%91%E6%88%98"><span class="toc-number">4.6.2.</span> <span class="toc-text">主要挑战</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E7%BB%93%E6%9E%84%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%9A"><span class="toc-number">4.6.2.1.</span> <span class="toc-text">A. 结构复杂度：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#B-%E6%80%A7%E8%83%BD%E7%93%B6%E9%A2%88%EF%BC%9A"><span class="toc-number">4.6.2.2.</span> <span class="toc-text">B. 性能瓶颈：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%88%86%E6%9E%90-2"><span class="toc-number">4.6.3.</span> <span class="toc-text">实例分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E9%95%BF%E6%8C%87%E4%BB%A4%E5%AD%97-VLIW"><span class="toc-number">4.7.</span> <span class="toc-text">超长指令字(VLIW)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%89%B9%E5%BE%81%EF%BC%9A"><span class="toc-number">4.7.1.</span> <span class="toc-text">基本特征：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">4.7.2.</span> <span class="toc-text">优缺点分析</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%98%E7%82%B9%EF%BC%9A"><span class="toc-number">4.7.2.1.</span> <span class="toc-text">优点：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9%EF%BC%9A"><span class="toc-number">4.7.2.2.</span> <span class="toc-text">缺点：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9A"><span class="toc-number">4.7.2.3.</span> <span class="toc-text">解决方案：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%97%B6%E5%A4%9A%E7%BA%BF%E7%A8%8B-SMT"><span class="toc-number">4.8.</span> <span class="toc-text">同时多线程(SMT)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="toc-number">4.8.1.</span> <span class="toc-text">基本概念：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">4.8.2.</span> <span class="toc-text">实现方式：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E7%BB%86%E7%B2%92%E5%BA%A6%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%9A"><span class="toc-number">4.8.2.1.</span> <span class="toc-text">A. 细粒度多线程：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#B-%E7%B2%97%E7%B2%92%E5%BA%A6%E5%A4%9A%E7%BA%BF%E7%A8%8B%EF%BC%9A"><span class="toc-number">4.8.2.2.</span> <span class="toc-text">B. 粗粒度多线程：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#C-%E5%90%8C%E6%97%B6%E5%A4%9A%E7%BA%BF%E7%A8%8B-SMT-%EF%BC%9A"><span class="toc-number">4.8.2.3.</span> <span class="toc-text">C. 同时多线程(SMT)：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ILP%E9%99%90%E5%88%B6%E5%9B%A0%E7%B4%A0"><span class="toc-number">4.9.</span> <span class="toc-text">ILP限制因素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%90%86%E6%83%B3%E5%A4%84%E7%90%86%E5%99%A8%E5%81%87%E8%AE%BE%EF%BC%9A"><span class="toc-number">4.9.1.</span> <span class="toc-text">理想处理器假设：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E9%99%85%E9%99%90%E5%88%B6%EF%BC%9A"><span class="toc-number">4.9.2.</span> <span class="toc-text">实际限制：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#A-%E6%8C%87%E4%BB%A4%E7%AA%97%E5%8F%A3%E5%A4%A7%E5%B0%8F%EF%BC%9A"><span class="toc-number">4.9.2.1.</span> <span class="toc-text">A. 指令窗口大小：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#B-%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B%EF%BC%9A"><span class="toc-number">4.9.2.2.</span> <span class="toc-text">B. 分支预测：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#C-%E5%AF%84%E5%AD%98%E5%99%A8%E6%95%B0%E9%87%8F%EF%BC%9A"><span class="toc-number">4.9.2.3.</span> <span class="toc-text">C. 寄存器数量：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E5%9B%BE%E8%A1%A8%E4%BD%8D%E7%BD%AE%EF%BC%9A-1"><span class="toc-number">4.9.2.4.</span> <span class="toc-text">重要图表位置：</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/9c4bc814.html" title="本站评论使用手册">本站评论使用手册</a><time datetime="2025-08-04T07:51:47.000Z" title="发表于 2025-08-04 15:51:47">2025-08-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/328b98cc.html" title="当程序正义无法抵达事实的彼岸">当程序正义无法抵达事实的彼岸</a><time datetime="2025-08-03T12:34:01.000Z" title="发表于 2025-08-03 20:34:01">2025-08-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/b5644c66.html" title="Awsome Debate Competition">Awsome Debate Competition</a><time datetime="2025-05-06T11:06:31.000Z" title="发表于 2025-05-06 19:06:31">2025-05-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/d32a2f6f.html" title="Compiler Principle">Compiler Principle</a><time datetime="2025-05-05T17:02:13.000Z" title="发表于 2025-05-06 01:02:13">2025-05-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/f82e7011.html" title="Computer Organization">Computer Organization</a><time datetime="2025-05-05T16:40:57.000Z" title="发表于 2025-05-06 00:40:57">2025-05-06</time></div></div></div></div><div class="card-widget card-map"><div class="card-content"><div class="item-headline"><i class="fa fa-globe-asia" aria-hidden="true"></i><span>访客地图</span></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=2PAaw5Mcc-6zCfBfM92U4oYhcVmD7DXUzdbYIhKYI-0"></script></div></div></div></div></main><footer id="footer" style="background-image: url(/img/bow.jpg);"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Lavoisier</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div><div class="footer_custom_text">直觉让我回了头，却没能让我转过身。</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(() => {
  let initFn = window.walineFn || null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = {"requiredMeta":["nick","mail"],"locale":null,"placeholder":"昵称和邮箱为必填项，为了您能及时收到相关回复的邮件通知，请确保邮箱的正确性！"}

  const destroyWaline = ele => ele.destroy()

  const initWaline = (Fn, el = document, path = window.location.pathname) => {
    const waline = Fn({
      el: el.querySelector('#waline-wrap'),
      serverURL: 'https://report.lavoisier7.xyz/',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      comment: true,
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyWaline = () => {
        destroyWaline(waline)
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const loadWaline = (el, path) => {
    if (initFn) initWaline(initFn, el, path)
    else {
      btf.getCSS('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.css')
        .then(() => import('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.js'))
        .then(({ init }) => {
          initFn = init || Waline.init
          initWaline(initFn, el, path)
          window.walineFn = initFn
        })
    }
  }

  if (isShuoshuo) {
    'Waline' === 'Waline'
      ? window.shuoshuoComment = { loadComment: loadWaline } 
      : window.loadOtherComment = loadWaline
    return
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>